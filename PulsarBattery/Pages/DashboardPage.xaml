<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="PulsarBattery.Pages.DashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollViewer>
        <Grid Padding="32">
            <Grid HorizontalAlignment="Stretch">
                <StackPanel Spacing="16">

                    <!-- Summary card (Windows 11 Settings-like) -->
                    <Grid Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                          BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                          BorderThickness="1"
                          CornerRadius="12"
                          Padding="18">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Spacing="16">
                            <TextBlock Text="Device" Opacity="0.7" />
                            <TextBlock Text="{Binding ModelName}" Style="{ThemeResource TitleTextBlockStyle}" TextTrimming="CharacterEllipsis" />

                            <ProgressBar Margin="0,12,32,0"
                                         Minimum="0" Maximum="100"
                                         Value="{Binding BatteryPercentage}"
                                         Height="10" />

                        </StackPanel>

                        <StackPanel Grid.Column="1" HorizontalAlignment="Right" Spacing="2">
                            <TextBlock Style="{ThemeResource DisplayTextBlockStyle}" HorizontalAlignment="Right">
                                <Run Text="{Binding BatteryPercentage}" /><Run Text="%" />
                            </TextBlock>
                            <TextBlock Text="{Binding ChargingStateText}" Opacity="0.8" HorizontalAlignment="Right" />
                        </StackPanel>
                    </Grid>

                    <!-- Details list -->
                    <StackPanel Spacing="10">
                        <TextBlock Text="Details" Style="{ThemeResource BodyTextBlockStyle}" />

                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="12"
                                Padding="6">
                            <StackPanel>

                                <Grid Padding="12" ColumnSpacing="12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <FontIcon Glyph="&#xE8D4;" Opacity="0.8" />
                                    <TextBlock Grid.Column="1" Text="Model" VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="2" Text="{Binding ModelName}" Opacity="0.8" TextTrimming="CharacterEllipsis" />
                                </Grid>

                                <Rectangle Height="1" Fill="{ThemeResource CardStrokeColorDefaultBrush}" Opacity="0.35" />

                                <Grid Padding="12" ColumnSpacing="12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <FontIcon Glyph="&#xE823;" Opacity="0.8" />
                                    <TextBlock Grid.Column="1" Text="Battery" VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="2" Opacity="0.8">
                                        <Run Text="{Binding BatteryPercentage}" /><Run Text="%" />
                                    </TextBlock>
                                </Grid>

                                <Rectangle Height="1" Fill="{ThemeResource CardStrokeColorDefaultBrush}" Opacity="0.35" />

                                <Grid Padding="12" ColumnSpacing="12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <FontIcon Glyph="&#xEBAA;" Opacity="0.8" />
                                    <TextBlock Grid.Column="1" Text="Charging" VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="2" Text="{Binding ChargingStateText}" Opacity="0.8" />
                                </Grid>

                                <Rectangle Height="1" Fill="{ThemeResource CardStrokeColorDefaultBrush}" Opacity="0.35" />

                                <Grid Padding="12" ColumnSpacing="12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <FontIcon Glyph="&#xE90F;" Opacity="0.8" />
                                    <TextBlock Grid.Column="1" Text="Last updated" VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="2" Text="{Binding LastUpdatedText}" Opacity="0.8" TextTrimming="CharacterEllipsis" />
                                </Grid>

                            </StackPanel>
                        </Border>
                    </StackPanel>

                </StackPanel>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
